{% extends 'base.html'%}
{% load static %}
{% block nav %}
{% include 'navbar.html' %}
{% endblock %}

{% block content %}

<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">


<script src="https://cdn.jsdelivr.net/npm/fullcalendar@5.0.0-beta.2/main.min.js"></script>
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/fullcalendar@5.0.0-beta.2/main.min.css" />
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">

	<script>

     let moreevents = {{myevents|safe}};


      function myFunction(num) {
  return {
       id: 'a',
      title: num.title,
      start: num.time};
      };

      const newArr = moreevents.map(myFunction);
      console.log(newArr);






      document.addEventListener('DOMContentLoaded', function() {
        var calendarEl = document.getElementById('calendar');
        var calendar = new FullCalendar.Calendar(calendarEl, {
          timeZone: 'UTC',
          events: newArr,
            height: 1000,

          initialView: 'dayGridMonth',


          eventClick: function(info) {
    alert('Event: ');

    info.el.style.borderColor = 'red';
  },

        });

        calendar.render();
      });
      </script>
<title>{{title}}</title>
</head>
<body>


<div class="container">
	<div id="calendar"></div>
	</div>

</body>
{% endblock %}}